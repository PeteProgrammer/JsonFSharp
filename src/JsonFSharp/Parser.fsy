%{
open JsonFSharp
%}

%start start
%token <string> STRING
%token <double> DOUBLE
%token <string> EXCEPTION
%token <bool> BOOL
%token NULL
%token LBRAC RBRAC
%token EOF
%type < JsonFSharp.ParseResult > start
%%

start: 
    | STRING EOF { Success (JsonString $1) }
    | DOUBLE EOF { Success (JsonNumber $1) }
    | BOOL EOF { Success (JsonBool $1) }
    | NULL EOF { Success (JsonNull) }
    | LBRAC NULL RBRAC EOF { Success (JsonArray [JsonNull]) }
    | EXCEPTION { Failure $1 }
